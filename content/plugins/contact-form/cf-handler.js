document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById('contact-form-plugin');const successAlert=document.getElementById('contact-form-plugin-mgs-success');const failedAlert=document.getElementById('contact-form-plugin-mgs-failed');form.addEventListener('submit',function(event){event.preventDefault();const submitButton=form.querySelector('button[type="submit"]');submitButton.disabled=true;const formData=new FormData(form);fetch('/content/plugins/contact-form/send-msg.php',{method:'POST',body:formData}).then(response=>response.text()).then(data=>{if(data){if(data.substring(0,8)=="success-"){successAlert.style.display='block';failedAlert.style.display='none';let msg=data.replace('success-','');document.getElementById('contact-form-alert-success').innerHTML=msg;}else{console.log('E0');console.log(data);failedAlert.style.display='block';successAlert.style.display='none';document.getElementById('contact-form-alert-failed').innerHTML=data;}}}).catch(error=>{console.log('E1');console.log(error);failedAlert.style.display='block';successAlert.style.display='none';document.getElementById('contact-form-alert-failed').innerHTML='Error!';});});});